{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MarvinT\\\\Desktop\\\\stuff\\\\nba-play-viewer-master\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport PlayList from './PlayList.js';\nimport SearchBar from './SearchBar.js';\nimport SelectBar from './SelectBar.js';\n\nconst request = require('request');\n\nconst schedule = require('./schedule.json');\n\nconst nba = '';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.getPBP = gameID => {\n      document.getElementsByTagName('select')[0].selectedIndex = 0;\n      this.setState({\n        title: ''\n      });\n      this.setState({\n        URL: ''\n      });\n      this.setState({\n        shareURL: ''\n      });\n      request({\n        url: 'http://localhost:3001/playByPlay',\n        method: 'POST',\n        json: {\n          GAMEID: gameID\n        }\n      }, (error, res, body) => {\n        console.log(body);\n        if (body.AvailableVideo.VIDEO_AVAILABLE_FLAG === 1 || body.AvailableVideo.VIDEO_AVAILABLE_FLAG === 2) this.parsePBP(body);else this.setState({\n          pbp: []\n        });\n      }); // nba.playByPlay({GameID: gameID}, options).then((data) =>{\n      //   console.log(data)\n      //   if(data.AvailableVideo.VIDEO_AVAILABLE_FLAG === 1 || \n      //    data.AvailableVideo.VIDEO_AVAILABLE_FLAG === 2)\n      //     this.parsePBP(data)\n      //   else this.setState({pbp: []})\n      // })\n    };\n\n    this.parsePBP = data => {\n      var plays = [];\n      var playsDeepCopy = [];\n      var playersList = [];\n      var temp = [];\n      plays = this.filterPlays(data.PlayByPlay);\n\n      for (var i = 1; i < plays.length; i++) {\n        if (!plays[i].Description) {\n          if (plays[i].HOMEDESCRIPTION && plays[i].VISITORDESCRIPTION) {\n            plays[i].Description = plays[i].HOMEDESCRIPTION;\n            playsDeepCopy[i] = JSON.parse(JSON.stringify(plays[i]));\n            playsDeepCopy[i].Description = plays[i].VISITORDESCRIPTION;\n            plays.splice(i, 0, playsDeepCopy[i]);\n          } else {\n            plays[i].Description = plays[i].HOMEDESCRIPTION ? plays[i].HOMEDESCRIPTION : plays[i].VISITORDESCRIPTION;\n          }\n\n          if (plays[i].PLAYER1_NAME) temp.push(plays[i].PLAYER1_NAME);\n          if (plays[i].PLAYER2_NAME) temp.push(plays[i].PLAYER2_NAME);\n          if (plays[i].PLAYER3_NAME) temp.push(plays[i].PLAYER3_NAME);\n        }\n      }\n\n      playersList = [...new Set(temp)];\n      document.getElementsByTagName('select')[1].selectedIndex = 0;\n      this.selectedPlayer = \"\";\n      this.allPBP = plays;\n      this.playerPBP = plays;\n      this.setState({\n        pbp: plays\n      });\n      this.setState({\n        players: playersList\n      });\n    };\n\n    this.filterPlays = data => {\n      //removing free throws (3), timeouts (9), and subs (8)\n      var key,\n          filteredData = [];\n\n      for (key in data) {\n        if (!(data[key].EVENTMSGTYPE === 9 || data[key].EVENTMSGTYPE === 8 || data[key].EVENTMSGTYPE === 3)) {\n          filteredData.push(data[key]);\n        }\n      }\n\n      return filteredData;\n    };\n\n    this.getVidURL = (eventNum, gameID) => {\n      nba.getPBPVideoURL({\n        EventNum: eventNum,\n        GameID: gameID\n      }).then(url => {\n        console.log(url);\n        this.setState({\n          URL: url\n        });\n      });\n    };\n\n    this.getSelectedVideoDetails = (eventNum, title) => {\n      this.getVidURL(eventNum, this.state.selectedGame.GameID);\n      this.setState({\n        title: title\n      });\n    };\n\n    this.getSelectedGame = game => {\n      this.setState({\n        selectedGame: game\n      });\n      this.getPBP(game.GameID);\n    };\n\n    this.getSelectedPlayer = player => {\n      document.getElementsByTagName('select')[1].selectedIndex = 0; //filter other players miss, steals, blocks \n\n      var plays = this.allPBP;\n\n      if (player !== 'all') {\n        plays = plays.filter(play => play.PLAYER1_NAME === player || play.PLAYER2_NAME === player || play.PLAYER3_NAME === player);\n      }\n\n      this.selectedPlayer = player;\n      this.playerPBP = plays;\n      this.setState({\n        pbp: plays\n      });\n    };\n\n    this.filterMadeShots = (player, plays) => {\n      if (player !== 'all' && player) {\n        plays = plays.filter(play => play.EVENTMSGTYPE === 1 && player === play.PLAYER1_NAME);\n      } else {\n        plays = plays.filter(play => play.EVENTMSGTYPE === 1);\n      }\n\n      return plays;\n    };\n\n    this.filterAssists = (player, plays) => {\n      if (player !== 'all' && player) {\n        plays = plays.filter(play => play.EVENTMSGTYPE === 1 && play.Description.includes('AST') && player === play.PLAYER2_NAME);\n      } else {\n        plays = plays.filter(play => play.EVENTMSGTYPE === 1 && play.Description.includes('AST'));\n      }\n\n      return plays;\n    };\n\n    this.filterMissShots = (player, plays, homeTeamID, awayTeamID) => {\n      if (player !== 'all' && player) {\n        plays = plays.filter(play => play.EVENTMSGTYPE === 2 && !play.Description.includes('BLK') && (player === play.PLAYER1_NAME && play.PERSON1TYPE === 5 && awayTeamID === play.PLAYER1_TEAM_ID || player === play.PLAYER1_NAME && play.PERSON1TYPE === 4 && homeTeamID === play.PLAYER1_TEAM_ID));\n      } else {\n        plays = plays.filter(play => play.EVENTMSGTYPE === 2 && !play.Description.includes('BLK'));\n      }\n\n      return plays;\n    };\n\n    this.filterBlocks = (player, plays, homeTeamID, awayTeamID) => {\n      if (player !== 'all' && player) {\n        plays = plays.filter(play => play.EVENTMSGTYPE === 2 && play.Description.includes('BLK') && (player === play.PLAYER3_NAME && play.PERSON3TYPE === 5 && awayTeamID === play.PLAYER3_TEAM_ID || player === play.PLAYER3_NAME && play.PERSON3TYPE === 4 && homeTeamID === play.PLAYER3_TEAM_ID));\n      } else {\n        plays = plays.filter(play => play.EVENTMSGTYPE === 2 && play.Description.includes('BLK'));\n      }\n\n      return plays;\n    };\n\n    this.filterTurnovers = (player, plays, homeTeamID, awayTeamID) => {\n      if (player !== 'all' && player) {\n        plays = plays.filter(play => play.EVENTMSGTYPE === 5 && !play.Description.includes('STL') && (player === play.PLAYER1_NAME && play.PERSON1TYPE === 5 && awayTeamID === play.PLAYER1_TEAM_ID || player === play.PLAYER1_NAME && play.PERSON1TYPE === 4 && homeTeamID === play.PLAYER1_TEAM_ID));\n      } else {\n        plays = plays.filter(play => play.EVENTMSGTYPE === 5 && !play.Description.includes('STL'));\n      }\n\n      return plays;\n    };\n\n    this.filterSteals = (player, plays, homeTeamID, awayTeamID) => {\n      if (player !== 'all' && player) {\n        plays = plays.filter(play => play.EVENTMSGTYPE === 5 && play.Description.includes('STL') && (player === play.PLAYER2_NAME && play.PERSON2TYPE === 5 && awayTeamID === play.PLAYER2_TEAM_ID || player === play.PLAYER2_NAME && play.PERSON2TYPE === 4 && homeTeamID === play.PLAYER2_TEAM_ID));\n      } else {\n        plays = plays.filter(play => play.EVENTMSGTYPE === 5 && play.Description.includes('STL'));\n      }\n\n      return plays;\n    };\n\n    this.getSelectedPlayType = playType => {\n      var game = this.state.selectedGame;\n      var player = this.selectedPlayer;\n      var homeTeamID = game.HomeTeamID;\n      var awayTeamID = game.AwayTeamID;\n      var plays = this.playerPBP;\n\n      switch (playType) {\n        case \"Made Shot\":\n          {\n            plays = this.filterMadeShots(player, plays);\n            break;\n          }\n\n        case \"Assist\":\n          {\n            plays = this.filterAssists(player, plays);\n            break;\n          }\n\n        case \"Miss Shot\":\n          {\n            plays = this.filterMissShots(player, plays, homeTeamID, awayTeamID);\n            break;\n          }\n\n        case \"Block\":\n          {\n            plays = this.filterBlocks(player, plays, homeTeamID, awayTeamID);\n            break;\n          }\n\n        case \"Rebound\":\n          {\n            plays = plays.filter(play => play.EVENTMSGTYPE === 4);\n            break;\n          }\n\n        case \"Turnover\":\n          {\n            plays = this.filterTurnovers(player, plays, homeTeamID, awayTeamID);\n            break;\n          }\n\n        case \"Steal\":\n          {\n            plays = this.filterSteals(player, plays, homeTeamID, awayTeamID);\n            break;\n          }\n\n        case \"Foul\":\n          {\n            plays = plays.filter(play => play.EVENTMSGTYPE === 6);\n            break;\n          }\n\n        case \"Violation\":\n          {\n            plays = plays.filter(play => play.EVENTMSGTYPE === 7);\n            break;\n          }\n\n        case \"Jump Ball\":\n          {\n            plays = plays.filter(play => play.EVENTMSGTYPE === 10);\n            break;\n          }\n\n        default:\n          break;\n      }\n\n      this.setState({\n        pbp: plays\n      });\n    };\n\n    this.getSchedule = () => {\n      for (var i = 0; i < schedule.lscd.length; i++) {\n        for (var j = 0; j < schedule.lscd[i].mscd.g.length; j++) {\n          var game = schedule.lscd[i].mscd.g[j];\n          var homeCity = game.h.tc;\n          var homeName = game.h.tn;\n          var homeAbbr = game.h.ta;\n          var homeTeamID = game.h.tid;\n          var awayCity = game.v.tc;\n          var awayName = game.v.tn;\n          var awayAbbr = game.v.ta;\n          var awayTeamID = game.v.tid;\n          var date = game.gdte;\n          this.games.push({\n            GameID: game.gid,\n            Arena: game.an,\n            GameName: \"\".concat(awayCity, \" \").concat(awayName, \" @ \").concat(homeCity, \" \").concat(homeName, \" (\").concat(date, \")\"),\n            HomeCity: homeCity,\n            HomeName: homeName,\n            HomeAbbr: homeAbbr,\n            HomeTeamID: homeTeamID,\n            AwayCity: awayCity,\n            AwayName: awayName,\n            AwayAbbr: awayAbbr,\n            AwayTeamID: awayTeamID,\n            Date: date\n          });\n        }\n      }\n    };\n\n    this.state = {\n      pbp: [],\n      players: [],\n      URL: '',\n      title: '',\n      selectedGame: {}\n    };\n    this.games = [];\n    this.selectedPlayer = '';\n    this.allPBP = [];\n    this.playerPBP = [];\n    this.playTypes = [\"Made Shot\", \"Miss Shot\", \"Assist\", \"Rebound\", \"Turnover\", \"Steal\", \"Block\", \"Foul\", \"Violation\", \"Jump Ball\"];\n  }\n\n  componentDidMount() {\n    this.getSchedule();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"vid-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, {\n      id: \"game-search\",\n      gameData: this.games,\n      getSelectedGame: this.getSelectedGame,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"video\", {\n      id: \"vid\",\n      key: this.state.URL,\n      width: \"768\",\n      height: \"432\",\n      controls: true,\n      autoPlay: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"source\", {\n      src: this.state.URL,\n      type: \"video/mp4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 13\n      }\n    }, this.state.title))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"plays-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"select-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(SelectBar, {\n      id: \"players-select\",\n      data: this.state.players,\n      default: \"All Players\",\n      getSelected: this.getSelectedPlayer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(SelectBar, {\n      id: \"play-select\",\n      data: this.playTypes,\n      default: \"All Plays\",\n      getSelected: this.getSelectedPlayType,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(PlayList, {\n      plays: this.state.pbp,\n      getSelectedVideoDetails: this.getSelectedVideoDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/MarvinT/Desktop/stuff/nba-play-viewer-master/src/App.js"],"names":["React","Component","PlayList","SearchBar","SelectBar","request","require","schedule","nba","App","constructor","getPBP","gameID","document","getElementsByTagName","selectedIndex","setState","title","URL","shareURL","url","method","json","GAMEID","error","res","body","console","log","AvailableVideo","VIDEO_AVAILABLE_FLAG","parsePBP","pbp","data","plays","playsDeepCopy","playersList","temp","filterPlays","PlayByPlay","i","length","Description","HOMEDESCRIPTION","VISITORDESCRIPTION","JSON","parse","stringify","splice","PLAYER1_NAME","push","PLAYER2_NAME","PLAYER3_NAME","Set","selectedPlayer","allPBP","playerPBP","players","key","filteredData","EVENTMSGTYPE","getVidURL","eventNum","getPBPVideoURL","EventNum","GameID","then","getSelectedVideoDetails","state","selectedGame","getSelectedGame","game","getSelectedPlayer","player","filter","play","filterMadeShots","filterAssists","includes","filterMissShots","homeTeamID","awayTeamID","PERSON1TYPE","PLAYER1_TEAM_ID","filterBlocks","PERSON3TYPE","PLAYER3_TEAM_ID","filterTurnovers","filterSteals","PERSON2TYPE","PLAYER2_TEAM_ID","getSelectedPlayType","playType","HomeTeamID","AwayTeamID","getSchedule","lscd","j","mscd","g","homeCity","h","tc","homeName","tn","homeAbbr","ta","tid","awayCity","v","awayName","awayAbbr","date","gdte","games","gid","Arena","an","GameName","HomeCity","HomeName","HomeAbbr","AwayCity","AwayName","AwayAbbr","Date","playTypes","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,QAAP,MAAqB,eAArB;AACA,OAAOC,SAAP,MAAsB,gBAAtB;AACA,OAAOC,SAAP,MAAsB,gBAAtB;;AAEA,MAAMC,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,iBAAD,CAAxB;;AACA,MAAME,GAAG,GAAG,EAAZ;;AAEA,MAAMC,GAAN,SAAkBR,SAAlB,CAA4B;AAE1BS,EAAAA,WAAW,GAAE;AACX;;AADW,SAYbC,MAZa,GAYHC,MAAD,IAAY;AAEnBC,MAAAA,QAAQ,CAACC,oBAAT,CAA8B,QAA9B,EAAwC,CAAxC,EAA2CC,aAA3C,GAA2D,CAA3D;AACA,WAAKC,QAAL,CAAc;AAACC,QAAAA,KAAK,EAAE;AAAR,OAAd;AACA,WAAKD,QAAL,CAAc;AAACE,QAAAA,GAAG,EAAE;AAAN,OAAd;AACA,WAAKF,QAAL,CAAc;AAACG,QAAAA,QAAQ,EAAE;AAAX,OAAd;AAEAd,MAAAA,OAAO,CAAC;AACNe,QAAAA,GAAG,EAAE,kCADC;AAENC,QAAAA,MAAM,EAAE,MAFF;AAGNC,QAAAA,IAAI,EAAE;AACJC,UAAAA,MAAM,EAAEX;AADJ;AAHA,OAAD,EAMJ,CAACY,KAAD,EAAQC,GAAR,EAAaC,IAAb,KAAsB;AACvBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,YAAGA,IAAI,CAACG,cAAL,CAAoBC,oBAApB,KAA6C,CAA7C,IACDJ,IAAI,CAACG,cAAL,CAAoBC,oBAApB,KAA6C,CAD/C,EAEG,KAAKC,QAAL,CAAcL,IAAd,EAFH,KAGM,KAAKV,QAAL,CAAc;AAACgB,UAAAA,GAAG,EAAE;AAAN,SAAd;AACP,OAZM,CAAP,CAPmB,CAqBnB;AACA;AAEA;AACA;AACA;AACA;AACA;AACD,KAzCY;;AAAA,SA2CbD,QA3Ca,GA2CDE,IAAD,IAAU;AACnB,UAAIC,KAAK,GAAG,EAAZ;AACA,UAAIC,aAAa,GAAG,EAApB;AACA,UAAIC,WAAW,GAAG,EAAlB;AACA,UAAIC,IAAI,GAAG,EAAX;AAEAH,MAAAA,KAAK,GAAG,KAAKI,WAAL,CAAiBL,IAAI,CAACM,UAAtB,CAAR;;AAEA,WAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACN,KAAK,CAACO,MAArB,EAA4BD,CAAC,EAA7B,EAAgC;AAE9B,YAAG,CAACN,KAAK,CAACM,CAAD,CAAL,CAASE,WAAb,EAAyB;AACvB,cAAGR,KAAK,CAACM,CAAD,CAAL,CAASG,eAAT,IAA4BT,KAAK,CAACM,CAAD,CAAL,CAASI,kBAAxC,EAA2D;AACzDV,YAAAA,KAAK,CAACM,CAAD,CAAL,CAASE,WAAT,GAAuBR,KAAK,CAACM,CAAD,CAAL,CAASG,eAAhC;AACAR,YAAAA,aAAa,CAACK,CAAD,CAAb,GAAmBK,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeb,KAAK,CAACM,CAAD,CAApB,CAAX,CAAnB;AACAL,YAAAA,aAAa,CAACK,CAAD,CAAb,CAAiBE,WAAjB,GAA+BR,KAAK,CAACM,CAAD,CAAL,CAASI,kBAAxC;AACAV,YAAAA,KAAK,CAACc,MAAN,CAAaR,CAAb,EAAgB,CAAhB,EAAmBL,aAAa,CAACK,CAAD,CAAhC;AACD,WALD,MAKO;AACLN,YAAAA,KAAK,CAACM,CAAD,CAAL,CAASE,WAAT,GAAuBR,KAAK,CAACM,CAAD,CAAL,CAASG,eAAT,GAA2BT,KAAK,CAACM,CAAD,CAAL,CAASG,eAApC,GAAsDT,KAAK,CAACM,CAAD,CAAL,CAASI,kBAAtF;AACD;;AAED,cAAGV,KAAK,CAACM,CAAD,CAAL,CAASS,YAAZ,EAA0BZ,IAAI,CAACa,IAAL,CAAUhB,KAAK,CAACM,CAAD,CAAL,CAASS,YAAnB;AACxB,cAAGf,KAAK,CAACM,CAAD,CAAL,CAASW,YAAZ,EAA0Bd,IAAI,CAACa,IAAL,CAAUhB,KAAK,CAACM,CAAD,CAAL,CAASW,YAAnB;AACxB,cAAGjB,KAAK,CAACM,CAAD,CAAL,CAASY,YAAZ,EAA0Bf,IAAI,CAACa,IAAL,CAAUhB,KAAK,CAACM,CAAD,CAAL,CAASY,YAAnB;AAC3B;AACJ;;AAEDhB,MAAAA,WAAW,GAAG,CAAC,GAAG,IAAIiB,GAAJ,CAAQhB,IAAR,CAAJ,CAAd;AAEAxB,MAAAA,QAAQ,CAACC,oBAAT,CAA8B,QAA9B,EAAwC,CAAxC,EAA2CC,aAA3C,GAA2D,CAA3D;AACA,WAAKuC,cAAL,GAAsB,EAAtB;AACA,WAAKC,MAAL,GAAcrB,KAAd;AACA,WAAKsB,SAAL,GAAiBtB,KAAjB;AACA,WAAKlB,QAAL,CAAc;AAACgB,QAAAA,GAAG,EAAEE;AAAN,OAAd;AACA,WAAKlB,QAAL,CAAc;AAACyC,QAAAA,OAAO,EAAErB;AAAV,OAAd;AACH,KA7EY;;AAAA,SA+EbE,WA/Ea,GA+EEL,IAAD,IAAU;AACtB;AACA,UAAIyB,GAAJ;AAAA,UAASC,YAAY,GAAG,EAAxB;;AACA,WAAID,GAAJ,IAAWzB,IAAX,EAAgB;AACd,YAAG,EAAEA,IAAI,CAACyB,GAAD,CAAJ,CAAUE,YAAV,KAA2B,CAA3B,IACJ3B,IAAI,CAACyB,GAAD,CAAJ,CAAUE,YAAV,KAA2B,CADvB,IAEJ3B,IAAI,CAACyB,GAAD,CAAJ,CAAUE,YAAV,KAA2B,CAFzB,CAAH,EAE+B;AAC7BD,UAAAA,YAAY,CAACT,IAAb,CAAkBjB,IAAI,CAACyB,GAAD,CAAtB;AACD;AACF;;AAED,aAAOC,YAAP;AACD,KA3FY;;AAAA,SA6FbE,SA7Fa,GA6FD,CAACC,QAAD,EAAWlD,MAAX,KAAsB;AAChCJ,MAAAA,GAAG,CAACuD,cAAJ,CAAmB;AAACC,QAAAA,QAAQ,EAAEF,QAAX;AAAqBG,QAAAA,MAAM,EAAErD;AAA7B,OAAnB,EAAyDsD,IAAzD,CAA+D9C,GAAD,IAAS;AACrEO,QAAAA,OAAO,CAACC,GAAR,CAAYR,GAAZ;AACA,aAAKJ,QAAL,CAAc;AAACE,UAAAA,GAAG,EAAEE;AAAN,SAAd;AACD,OAHD;AAID,KAlGY;;AAAA,SAoGb+C,uBApGa,GAoGa,CAACL,QAAD,EAAW7C,KAAX,KAAqB;AAC7C,WAAK4C,SAAL,CAAeC,QAAf,EAAyB,KAAKM,KAAL,CAAWC,YAAX,CAAwBJ,MAAjD;AACA,WAAKjD,QAAL,CAAc;AAACC,QAAAA,KAAK,EAAEA;AAAR,OAAd;AACD,KAvGY;;AAAA,SAyGbqD,eAzGa,GAyGMC,IAAD,IAAU;AAC1B,WAAKvD,QAAL,CAAc;AACZqD,QAAAA,YAAY,EAAEE;AADF,OAAd;AAIA,WAAK5D,MAAL,CAAY4D,IAAI,CAACN,MAAjB;AACD,KA/GY;;AAAA,SAiHbO,iBAjHa,GAiHQC,MAAD,IAAY;AAC9B5D,MAAAA,QAAQ,CAACC,oBAAT,CAA8B,QAA9B,EAAwC,CAAxC,EAA2CC,aAA3C,GAA2D,CAA3D,CAD8B,CAG9B;;AAEA,UAAImB,KAAK,GAAG,KAAKqB,MAAjB;;AACA,UAAGkB,MAAM,KAAK,KAAd,EAAoB;AAClBvC,QAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAAC1B,YAAL,KAAsBwB,MAAtB,IAC5BE,IAAI,CAACxB,YAAL,KAAsBsB,MADM,IAE5BE,IAAI,CAACvB,YAAL,KAAsBqB,MAFf,CAAR;AAGD;;AAED,WAAKnB,cAAL,GAAsBmB,MAAtB;AACA,WAAKjB,SAAL,GAAiBtB,KAAjB;AACA,WAAKlB,QAAL,CAAc;AAACgB,QAAAA,GAAG,EAAEE;AAAN,OAAd;AACD,KAhIY;;AAAA,SAkIb0C,eAlIa,GAkIK,CAACH,MAAD,EAASvC,KAAT,KAAmB;AACnC,UAAGuC,MAAM,KAAK,KAAX,IAAoBA,MAAvB,EAA8B;AAC5BvC,QAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACf,YAAL,KAAsB,CAAtB,IACtBa,MAAM,KAAKE,IAAI,CAAC1B,YADf,CAAR;AAED,OAHD,MAGO;AACLf,QAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACf,YAAL,KAAsB,CAA3C,CAAR;AACD;;AAED,aAAO1B,KAAP;AACD,KA3IY;;AAAA,SA6Ib2C,aA7Ia,GA6IG,CAACJ,MAAD,EAASvC,KAAT,KAAmB;AACjC,UAAGuC,MAAM,KAAK,KAAX,IAAoBA,MAAvB,EAA8B;AAC5BvC,QAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACf,YAAL,KAAsB,CAAtB,IACxBe,IAAI,CAACjC,WAAL,CAAiBoC,QAAjB,CAA0B,KAA1B,CADwB,IAEtBL,MAAM,KAAKE,IAAI,CAACxB,YAFf,CAAR;AAGD,OAJD,MAIO;AACLjB,QAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACf,YAAL,KAAsB,CAAtB,IACxBe,IAAI,CAACjC,WAAL,CAAiBoC,QAAjB,CAA0B,KAA1B,CADG,CAAR;AAED;;AAED,aAAO5C,KAAP;AACD,KAxJY;;AAAA,SA0Jb6C,eA1Ja,GA0JK,CAACN,MAAD,EAASvC,KAAT,EAAgB8C,UAAhB,EAA4BC,UAA5B,KAA2C;AAC3D,UAAGR,MAAM,KAAK,KAAX,IAAoBA,MAAvB,EAA8B;AAC5BvC,QAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACf,YAAL,KAAsB,CAAtB,IACxB,CAACe,IAAI,CAACjC,WAAL,CAAiBoC,QAAjB,CAA0B,KAA1B,CADuB,KAEtBL,MAAM,KAAKE,IAAI,CAAC1B,YAAhB,IAAgC0B,IAAI,CAACO,WAAL,KAAqB,CAArD,IAA0DD,UAAU,KAAKN,IAAI,CAACQ,eAA/E,IACDV,MAAM,KAAKE,IAAI,CAAC1B,YAAhB,IAAgC0B,IAAI,CAACO,WAAL,KAAqB,CAArD,IAA0DF,UAAU,KAAKL,IAAI,CAACQ,eAHtD,CAArB,CAAR;AAKD,OAND,MAMO;AACLjD,QAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACf,YAAL,KAAsB,CAAtB,IACxB,CAACe,IAAI,CAACjC,WAAL,CAAiBoC,QAAjB,CAA0B,KAA1B,CADE,CAAR;AAED;;AAED,aAAO5C,KAAP;AACD,KAvKY;;AAAA,SAyKbkD,YAzKa,GAyKE,CAACX,MAAD,EAASvC,KAAT,EAAgB8C,UAAhB,EAA4BC,UAA5B,KAA2C;AACxD,UAAGR,MAAM,KAAK,KAAX,IAAoBA,MAAvB,EAA8B;AAC5BvC,QAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACf,YAAL,KAAsB,CAAtB,IACxBe,IAAI,CAACjC,WAAL,CAAiBoC,QAAjB,CAA0B,KAA1B,CADwB,KAEtBL,MAAM,KAAKE,IAAI,CAACvB,YAAhB,IAAgCuB,IAAI,CAACU,WAAL,KAAqB,CAArD,IAA0DJ,UAAU,KAAKN,IAAI,CAACW,eAA/E,IACDb,MAAM,KAAKE,IAAI,CAACvB,YAAhB,IAAgCuB,IAAI,CAACU,WAAL,KAAqB,CAArD,IAA0DL,UAAU,KAAKL,IAAI,CAACW,eAHtD,CAArB,CAAR;AAKD,OAND,MAMO;AACLpD,QAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACf,YAAL,KAAsB,CAAtB,IACxBe,IAAI,CAACjC,WAAL,CAAiBoC,QAAjB,CAA0B,KAA1B,CADG,CAAR;AAED;;AAED,aAAO5C,KAAP;AACD,KAtLY;;AAAA,SAwLbqD,eAxLa,GAwLK,CAACd,MAAD,EAASvC,KAAT,EAAgB8C,UAAhB,EAA4BC,UAA5B,KAA2C;AAC3D,UAAGR,MAAM,KAAK,KAAX,IAAoBA,MAAvB,EAA8B;AAC5BvC,QAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACf,YAAL,KAAsB,CAAtB,IACxB,CAACe,IAAI,CAACjC,WAAL,CAAiBoC,QAAjB,CAA0B,KAA1B,CADuB,KAEtBL,MAAM,KAAKE,IAAI,CAAC1B,YAAhB,IAAgC0B,IAAI,CAACO,WAAL,KAAqB,CAArD,IAA0DD,UAAU,KAAKN,IAAI,CAACQ,eAA/E,IACDV,MAAM,KAAKE,IAAI,CAAC1B,YAAhB,IAAgC0B,IAAI,CAACO,WAAL,KAAqB,CAArD,IAA0DF,UAAU,KAAKL,IAAI,CAACQ,eAHtD,CAArB,CAAR;AAKD,OAND,MAMO;AACLjD,QAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACf,YAAL,KAAsB,CAAtB,IACxB,CAACe,IAAI,CAACjC,WAAL,CAAiBoC,QAAjB,CAA0B,KAA1B,CADE,CAAR;AAED;;AAED,aAAO5C,KAAP;AACD,KArMY;;AAAA,SAuMbsD,YAvMa,GAuME,CAACf,MAAD,EAASvC,KAAT,EAAgB8C,UAAhB,EAA4BC,UAA5B,KAA2C;AACxD,UAAGR,MAAM,KAAK,KAAX,IAAoBA,MAAvB,EAA8B;AAC5BvC,QAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACf,YAAL,KAAsB,CAAtB,IACxBe,IAAI,CAACjC,WAAL,CAAiBoC,QAAjB,CAA0B,KAA1B,CADwB,KAEtBL,MAAM,KAAKE,IAAI,CAACxB,YAAhB,IAAgCwB,IAAI,CAACc,WAAL,KAAqB,CAArD,IAA0DR,UAAU,KAAKN,IAAI,CAACe,eAA/E,IACDjB,MAAM,KAAKE,IAAI,CAACxB,YAAhB,IAAgCwB,IAAI,CAACc,WAAL,KAAqB,CAArD,IAA0DT,UAAU,KAAKL,IAAI,CAACe,eAHtD,CAArB,CAAR;AAKD,OAND,MAMO;AACLxD,QAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACf,YAAL,KAAsB,CAAtB,IACxBe,IAAI,CAACjC,WAAL,CAAiBoC,QAAjB,CAA0B,KAA1B,CADG,CAAR;AAED;;AAED,aAAO5C,KAAP;AACD,KApNY;;AAAA,SAsNbyD,mBAtNa,GAsNUC,QAAD,IAAc;AAElC,UAAIrB,IAAI,GAAG,KAAKH,KAAL,CAAWC,YAAtB;AACA,UAAII,MAAM,GAAG,KAAKnB,cAAlB;AACA,UAAI0B,UAAU,GAAGT,IAAI,CAACsB,UAAtB;AACA,UAAIZ,UAAU,GAAGV,IAAI,CAACuB,UAAtB;AACA,UAAI5D,KAAK,GAAG,KAAKsB,SAAjB;;AAGA,cAAOoC,QAAP;AACE,aAAM,WAAN;AAAoB;AAClB1D,YAAAA,KAAK,GAAG,KAAK0C,eAAL,CAAqBH,MAArB,EAA6BvC,KAA7B,CAAR;AACA;AACD;;AACD,aAAM,QAAN;AAAiB;AACfA,YAAAA,KAAK,GAAG,KAAK2C,aAAL,CAAmBJ,MAAnB,EAA2BvC,KAA3B,CAAR;AACA;AACD;;AACD,aAAM,WAAN;AAAoB;AAClBA,YAAAA,KAAK,GAAG,KAAK6C,eAAL,CAAqBN,MAArB,EAA6BvC,KAA7B,EAAoC8C,UAApC,EAAgDC,UAAhD,CAAR;AACA;AACD;;AACD,aAAM,OAAN;AAAgB;AACd/C,YAAAA,KAAK,GAAG,KAAKkD,YAAL,CAAkBX,MAAlB,EAA0BvC,KAA1B,EAAiC8C,UAAjC,EAA6CC,UAA7C,CAAR;AACA;AACD;;AACD,aAAM,SAAN;AAAkB;AAChB/C,YAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACf,YAAL,KAAsB,CAA3C,CAAR;AACA;AACD;;AACD,aAAM,UAAN;AAAmB;AACjB1B,YAAAA,KAAK,GAAG,KAAKqD,eAAL,CAAqBd,MAArB,EAA6BvC,KAA7B,EAAoC8C,UAApC,EAAgDC,UAAhD,CAAR;AACA;AACD;;AACD,aAAM,OAAN;AAAgB;AACd/C,YAAAA,KAAK,GAAG,KAAKsD,YAAL,CAAkBf,MAAlB,EAA0BvC,KAA1B,EAAiC8C,UAAjC,EAA6CC,UAA7C,CAAR;AACA;AACD;;AACD,aAAM,MAAN;AAAe;AACb/C,YAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACf,YAAL,KAAsB,CAA3C,CAAR;AACA;AACD;;AACD,aAAM,WAAN;AAAoB;AAClB1B,YAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACf,YAAL,KAAsB,CAA3C,CAAR;AACA;AACD;;AACD,aAAM,WAAN;AAAoB;AAClB1B,YAAAA,KAAK,GAAGA,KAAK,CAACwC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACf,YAAL,KAAsB,EAA3C,CAAR;AACA;AACD;;AAED;AAAS;AA1CX;;AA6CA,WAAK5C,QAAL,CAAc;AACZgB,QAAAA,GAAG,EAAEE;AADO,OAAd;AAGD,KA/QY;;AAAA,SAiRb6D,WAjRa,GAiRC,MAAM;AAClB,WAAI,IAAIvD,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACjC,QAAQ,CAACyF,IAAT,CAAcvD,MAA7B,EAAoCD,CAAC,EAArC,EAAwC;AACtC,aAAI,IAAIyD,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC1F,QAAQ,CAACyF,IAAT,CAAcxD,CAAd,EAAiB0D,IAAjB,CAAsBC,CAAtB,CAAwB1D,MAAvC,EAA8CwD,CAAC,EAA/C,EAAkD;AAChD,cAAI1B,IAAI,GAAGhE,QAAQ,CAACyF,IAAT,CAAcxD,CAAd,EAAiB0D,IAAjB,CAAsBC,CAAtB,CAAwBF,CAAxB,CAAX;AACA,cAAIG,QAAQ,GAAG7B,IAAI,CAAC8B,CAAL,CAAOC,EAAtB;AACA,cAAIC,QAAQ,GAAGhC,IAAI,CAAC8B,CAAL,CAAOG,EAAtB;AACA,cAAIC,QAAQ,GAAGlC,IAAI,CAAC8B,CAAL,CAAOK,EAAtB;AACA,cAAI1B,UAAU,GAAGT,IAAI,CAAC8B,CAAL,CAAOM,GAAxB;AACA,cAAIC,QAAQ,GAAGrC,IAAI,CAACsC,CAAL,CAAOP,EAAtB;AACA,cAAIQ,QAAQ,GAAGvC,IAAI,CAACsC,CAAL,CAAOL,EAAtB;AACA,cAAIO,QAAQ,GAAGxC,IAAI,CAACsC,CAAL,CAAOH,EAAtB;AACA,cAAIzB,UAAU,GAAGV,IAAI,CAACsC,CAAL,CAAOF,GAAxB;AACA,cAAIK,IAAI,GAAGzC,IAAI,CAAC0C,IAAhB;AAEA,eAAKC,KAAL,CAAWhE,IAAX,CAAgB;AAACe,YAAAA,MAAM,EAAEM,IAAI,CAAC4C,GAAd;AACfC,YAAAA,KAAK,EAAE7C,IAAI,CAAC8C,EADG;AAEfC,YAAAA,QAAQ,YAAKV,QAAL,cAAiBE,QAAjB,gBAA+BV,QAA/B,cAA2CG,QAA3C,eAAwDS,IAAxD,MAFO;AAGfO,YAAAA,QAAQ,EAAEnB,QAHK;AAIfoB,YAAAA,QAAQ,EAAEjB,QAJK;AAKfkB,YAAAA,QAAQ,EAAEhB,QALK;AAMfZ,YAAAA,UAAU,EAAEb,UANG;AAOf0C,YAAAA,QAAQ,EAAEd,QAPK;AAQfe,YAAAA,QAAQ,EAAEb,QARK;AASfc,YAAAA,QAAQ,EAAEb,QATK;AAUfjB,YAAAA,UAAU,EAAEb,UAVG;AAWf4C,YAAAA,IAAI,EAAEb;AAXS,WAAhB;AAYD;AACF;AACF,KA7SY;;AAGX,SAAK5C,KAAL,GAAa;AAACpC,MAAAA,GAAG,EAAE,EAAN;AAAUyB,MAAAA,OAAO,EAAE,EAAnB;AAAuBvC,MAAAA,GAAG,EAAE,EAA5B;AAAgCD,MAAAA,KAAK,EAAE,EAAvC;AAA2CoD,MAAAA,YAAY,EAAE;AAAzD,KAAb;AACA,SAAK6C,KAAL,GAAa,EAAb;AACA,SAAK5D,cAAL,GAAsB,EAAtB;AACA,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKsE,SAAL,GAAiB,CAAC,WAAD,EAAc,WAAd,EAA2B,QAA3B,EAAqC,SAArC,EAAgD,UAAhD,EACjB,OADiB,EACR,OADQ,EACC,MADD,EACS,WADT,EACsB,WADtB,CAAjB;AAED;;AAqSDC,EAAAA,iBAAiB,GAAE;AACjB,SAAKhC,WAAL;AACD;;AAEDiC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,EAAE,EAAC,aAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAW,MAAA,EAAE,EAAC,aAAd;AAA4B,MAAA,QAAQ,EAAE,KAAKd,KAA3C;AAAkD,MAAA,eAAe,EAAE,KAAK5C,eAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAO,MAAA,EAAE,EAAC,KAAV;AAAgB,MAAA,GAAG,EAAE,KAAKF,KAAL,CAAWlD,GAAhC;AAAqC,MAAA,KAAK,EAAC,KAA3C;AAAiD,MAAA,MAAM,EAAC,KAAxD;AAA8D,MAAA,QAAQ,MAAtE;AAAuE,MAAA,QAAQ,MAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,GAAG,EAAE,KAAKkD,KAAL,CAAWlD,GAAxB;AAA6B,MAAA,IAAI,EAAC,WAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,eAKE;AAAK,MAAA,EAAE,EAAC,aAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO,KAAKkD,KAAL,CAAWnD,KAAlB,CADF,CALF,CADF,eAUE;AAAK,MAAA,EAAE,EAAC,eAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,EAAE,EAAC,gBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAW,MAAA,EAAE,EAAC,gBAAd;AAA+B,MAAA,IAAI,EAAE,KAAKmD,KAAL,CAAWX,OAAhD;AAAyD,MAAA,OAAO,EAAC,aAAjE;AAA+E,MAAA,WAAW,EAAE,KAAKe,iBAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,SAAD;AAAW,MAAA,EAAE,EAAC,aAAd;AAA4B,MAAA,IAAI,EAAE,KAAKsD,SAAvC;AAAkD,MAAA,OAAO,EAAC,WAA1D;AAAsE,MAAA,WAAW,EAAE,KAAKnC,mBAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,eAKE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAE,KAAKvB,KAAL,CAAWpC,GAA5B;AAAiC,MAAA,uBAAuB,EAAE,KAAKmC,uBAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CAVF,CADF;AAoBD;;AA1UyB;;AA6U5B,eAAe1D,GAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport './App.css';\r\nimport PlayList from './PlayList.js';\r\nimport SearchBar from './SearchBar.js';\r\nimport SelectBar from './SelectBar.js';\r\n\r\nconst request = require('request');\r\nconst schedule = require('./schedule.json');\r\nconst nba = '';\r\n\r\nclass App extends Component {\r\n\r\n  constructor(){\r\n    super();\r\n\r\n    this.state = {pbp: [], players: [], URL: '', title: '', selectedGame: {}}\r\n    this.games = [];\r\n    this.selectedPlayer = '';\r\n    this.allPBP = [];\r\n    this.playerPBP = [];\r\n    this.playTypes = [\"Made Shot\", \"Miss Shot\", \"Assist\", \"Rebound\", \"Turnover\", \r\n    \"Steal\", \"Block\", \"Foul\", \"Violation\", \"Jump Ball\"];\r\n  }\r\n\r\n  getPBP = (gameID) => {\r\n\r\n    document.getElementsByTagName('select')[0].selectedIndex = 0;\r\n    this.setState({title: ''})\r\n    this.setState({URL: ''})\r\n    this.setState({shareURL: ''})\r\n\r\n    request({\r\n      url: 'http://localhost:3001/playByPlay', \r\n      method: 'POST',\r\n      json: {\r\n        GAMEID: gameID\r\n      }\r\n    }, (error, res, body) => {\r\n      console.log(body)\r\n      if(body.AvailableVideo.VIDEO_AVAILABLE_FLAG === 1 || \r\n        body.AvailableVideo.VIDEO_AVAILABLE_FLAG === 2)\r\n         this.parsePBP(body)\r\n       else this.setState({pbp: []})\r\n    })\r\n\r\n    // nba.playByPlay({GameID: gameID}, options).then((data) =>{\r\n    //   console.log(data)\r\n\r\n    //   if(data.AvailableVideo.VIDEO_AVAILABLE_FLAG === 1 || \r\n    //    data.AvailableVideo.VIDEO_AVAILABLE_FLAG === 2)\r\n    //     this.parsePBP(data)\r\n    //   else this.setState({pbp: []})\r\n    // })\r\n  }\r\n\r\n  parsePBP = (data) => {\r\n    var plays = [];\r\n    var playsDeepCopy = [];\r\n    var playersList = [];\r\n    var temp = [];\r\n\r\n    plays = this.filterPlays(data.PlayByPlay);\r\n\r\n    for(var i=1; i<plays.length;i++){\r\n\r\n      if(!plays[i].Description){\r\n        if(plays[i].HOMEDESCRIPTION && plays[i].VISITORDESCRIPTION){\r\n          plays[i].Description = plays[i].HOMEDESCRIPTION;\r\n          playsDeepCopy[i] = JSON.parse(JSON.stringify(plays[i]));\r\n          playsDeepCopy[i].Description = plays[i].VISITORDESCRIPTION;\r\n          plays.splice(i, 0, playsDeepCopy[i])\r\n        } else {\r\n          plays[i].Description = plays[i].HOMEDESCRIPTION ? plays[i].HOMEDESCRIPTION : plays[i].VISITORDESCRIPTION;\r\n        }\r\n\r\n        if(plays[i].PLAYER1_NAME) temp.push(plays[i].PLAYER1_NAME)\r\n          if(plays[i].PLAYER2_NAME) temp.push(plays[i].PLAYER2_NAME)\r\n            if(plays[i].PLAYER3_NAME) temp.push(plays[i].PLAYER3_NAME) \r\n          }\r\n      }\r\n\r\n      playersList = [...new Set(temp)]\r\n\r\n      document.getElementsByTagName('select')[1].selectedIndex = 0;\r\n      this.selectedPlayer = \"\";\r\n      this.allPBP = plays;\r\n      this.playerPBP = plays;\r\n      this.setState({pbp: plays})\r\n      this.setState({players: playersList})\r\n  }\r\n\r\n  filterPlays = (data) => {\r\n    //removing free throws (3), timeouts (9), and subs (8)\r\n    var key, filteredData = [];\r\n    for(key in data){\r\n      if(!(data[key].EVENTMSGTYPE === 9 || \r\n       data[key].EVENTMSGTYPE === 8 || \r\n       data[key].EVENTMSGTYPE === 3)){\r\n        filteredData.push(data[key])\r\n      }\r\n    }\r\n\r\n    return filteredData;\r\n  }\r\n\r\n  getVidURL = (eventNum, gameID) => {\r\n    nba.getPBPVideoURL({EventNum: eventNum, GameID: gameID}).then((url) => {\r\n      console.log(url)\r\n      this.setState({URL: url})\r\n    })\r\n  }\r\n\r\n  getSelectedVideoDetails = (eventNum, title) => {\r\n    this.getVidURL(eventNum, this.state.selectedGame.GameID) \r\n    this.setState({title: title})\r\n  }\r\n\r\n  getSelectedGame = (game) => {\r\n    this.setState({\r\n      selectedGame: game\r\n    })\r\n\r\n    this.getPBP(game.GameID)\r\n  }\r\n\r\n  getSelectedPlayer = (player) => {\r\n    document.getElementsByTagName('select')[1].selectedIndex = 0;\r\n\r\n    //filter other players miss, steals, blocks \r\n\r\n    var plays = this.allPBP;\r\n    if(player !== 'all'){\r\n      plays = plays.filter(play => play.PLAYER1_NAME === player || \r\n       play.PLAYER2_NAME === player || \r\n       play.PLAYER3_NAME === player) \r\n    }\r\n\r\n    this.selectedPlayer = player;\r\n    this.playerPBP = plays;\r\n    this.setState({pbp: plays});\r\n  }\r\n\r\n  filterMadeShots = (player, plays) => {\r\n    if(player !== 'all' && player){\r\n      plays = plays.filter(play => play.EVENTMSGTYPE === 1\r\n        && ((player === play.PLAYER1_NAME)));\r\n    } else {\r\n      plays = plays.filter(play => play.EVENTMSGTYPE === 1)\r\n    }   \r\n\r\n    return plays;    \r\n  }\r\n\r\n  filterAssists = (player, plays) => {\r\n    if(player !== 'all' && player){\r\n      plays = plays.filter(play => play.EVENTMSGTYPE === 1\r\n        && play.Description.includes('AST')\r\n        && ((player === play.PLAYER2_NAME)));\r\n    } else {\r\n      plays = plays.filter(play => play.EVENTMSGTYPE === 1\r\n        && play.Description.includes('AST'))\r\n    }\r\n\r\n    return plays;\r\n  }\r\n\r\n  filterMissShots = (player, plays, homeTeamID, awayTeamID) => {\r\n    if(player !== 'all' && player){\r\n      plays = plays.filter(play => play.EVENTMSGTYPE === 2\r\n        && !play.Description.includes('BLK')\r\n        && ((player === play.PLAYER1_NAME && play.PERSON1TYPE === 5 && awayTeamID === play.PLAYER1_TEAM_ID) ||\r\n          (player === play.PLAYER1_NAME && play.PERSON1TYPE === 4 && homeTeamID === play.PLAYER1_TEAM_ID)\r\n          ));\r\n    } else {\r\n      plays = plays.filter(play => play.EVENTMSGTYPE === 2\r\n        && !play.Description.includes('BLK'))\r\n    }\r\n\r\n    return plays;  \r\n  }\r\n\r\n  filterBlocks = (player, plays, homeTeamID, awayTeamID) => {\r\n    if(player !== 'all' && player){\r\n      plays = plays.filter(play => play.EVENTMSGTYPE === 2\r\n        && play.Description.includes('BLK')\r\n        && ((player === play.PLAYER3_NAME && play.PERSON3TYPE === 5 && awayTeamID === play.PLAYER3_TEAM_ID) ||\r\n          (player === play.PLAYER3_NAME && play.PERSON3TYPE === 4 && homeTeamID === play.PLAYER3_TEAM_ID)\r\n          ));\r\n    } else {\r\n      plays = plays.filter(play => play.EVENTMSGTYPE === 2\r\n        && play.Description.includes('BLK'))\r\n    }\r\n\r\n    return plays;\r\n  }\r\n\r\n  filterTurnovers = (player, plays, homeTeamID, awayTeamID) => {\r\n    if(player !== 'all' && player){\r\n      plays = plays.filter(play => play.EVENTMSGTYPE === 5\r\n        && !play.Description.includes('STL')\r\n        && ((player === play.PLAYER1_NAME && play.PERSON1TYPE === 5 && awayTeamID === play.PLAYER1_TEAM_ID) ||\r\n          (player === play.PLAYER1_NAME && play.PERSON1TYPE === 4 && homeTeamID === play.PLAYER1_TEAM_ID)\r\n          ));\r\n    } else {\r\n      plays = plays.filter(play => play.EVENTMSGTYPE === 5\r\n        && !play.Description.includes('STL'))\r\n    }\r\n\r\n    return plays;    \r\n  }\r\n\r\n  filterSteals = (player, plays, homeTeamID, awayTeamID) => {\r\n    if(player !== 'all' && player){\r\n      plays = plays.filter(play => play.EVENTMSGTYPE === 5\r\n        && play.Description.includes('STL')\r\n        && ((player === play.PLAYER2_NAME && play.PERSON2TYPE === 5 && awayTeamID === play.PLAYER2_TEAM_ID) ||\r\n          (player === play.PLAYER2_NAME && play.PERSON2TYPE === 4 && homeTeamID === play.PLAYER2_TEAM_ID)\r\n          ));\r\n    } else {\r\n      plays = plays.filter(play => play.EVENTMSGTYPE === 5\r\n        && play.Description.includes('STL'))\r\n    }\r\n\r\n    return plays;   \r\n  }\r\n\r\n  getSelectedPlayType = (playType) => {\r\n\r\n    var game = this.state.selectedGame;\r\n    var player = this.selectedPlayer;\r\n    var homeTeamID = game.HomeTeamID;\r\n    var awayTeamID = game.AwayTeamID;\r\n    var plays = this.playerPBP;\r\n\r\n\r\n    switch(playType){\r\n      case (\"Made Shot\"): {\r\n        plays = this.filterMadeShots(player, plays);\r\n        break;\r\n      }\r\n      case (\"Assist\"): {\r\n        plays = this.filterAssists(player, plays);\r\n        break;\r\n      }\r\n      case (\"Miss Shot\"): {\r\n        plays = this.filterMissShots(player, plays, homeTeamID, awayTeamID);\r\n        break;\r\n      }\r\n      case (\"Block\"): {\r\n        plays = this.filterBlocks(player, plays, homeTeamID, awayTeamID);\r\n        break;\r\n      }\r\n      case (\"Rebound\"): {\r\n        plays = plays.filter(play => play.EVENTMSGTYPE === 4);        \r\n        break;\r\n      }\r\n      case (\"Turnover\"): {\r\n        plays = this.filterTurnovers(player, plays, homeTeamID, awayTeamID);\r\n        break;\r\n      }\r\n      case (\"Steal\"): {\r\n        plays = this.filterSteals(player, plays, homeTeamID, awayTeamID);\r\n        break;\r\n      }\r\n      case (\"Foul\"): {\r\n        plays = plays.filter(play => play.EVENTMSGTYPE === 6);\r\n        break;\r\n      }\r\n      case (\"Violation\"): {\r\n        plays = plays.filter(play => play.EVENTMSGTYPE === 7); \r\n        break;\r\n      }\r\n      case (\"Jump Ball\"): {\r\n        plays = plays.filter(play => play.EVENTMSGTYPE === 10); \r\n        break;\r\n      }\r\n\r\n      default: break;       \r\n    }\r\n\r\n    this.setState({\r\n      pbp: plays\r\n    })\r\n  }\r\n\r\n  getSchedule = () => {\r\n    for(var i=0; i<schedule.lscd.length;i++){\r\n      for(var j=0; j<schedule.lscd[i].mscd.g.length;j++){\r\n        var game = schedule.lscd[i].mscd.g[j];\r\n        var homeCity = game.h.tc;\r\n        var homeName = game.h.tn;\r\n        var homeAbbr = game.h.ta;\r\n        var homeTeamID = game.h.tid;\r\n        var awayCity = game.v.tc;\r\n        var awayName = game.v.tn;\r\n        var awayAbbr = game.v.ta;\r\n        var awayTeamID = game.v.tid;\r\n        var date = game.gdte;\r\n\r\n        this.games.push({GameID: game.gid,\r\n         Arena: game.an,\r\n         GameName: `${awayCity} ${awayName} @ ${homeCity} ${homeName} (${date})`,\r\n         HomeCity: homeCity,\r\n         HomeName: homeName,\r\n         HomeAbbr: homeAbbr,\r\n         HomeTeamID: homeTeamID,\r\n         AwayCity: awayCity,\r\n         AwayName: awayName,\r\n         AwayAbbr: awayAbbr,\r\n         AwayTeamID: awayTeamID,\r\n         Date: date})\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.getSchedule();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div id=\"vid-wrapper\">\r\n          <SearchBar id=\"game-search\" gameData={this.games} getSelectedGame={this.getSelectedGame}/>\r\n          <video id=\"vid\" key={this.state.URL} width=\"768\" height=\"432\" controls autoPlay>\r\n            <source src={this.state.URL} type=\"video/mp4\"/>\r\n          </video>\r\n          <div id=\"description\">\r\n            <span>{this.state.title}</span>\r\n          </div>\r\n        </div>\r\n        <div id=\"plays-wrapper\">\r\n          <div id=\"select-wrapper\">\r\n            <SelectBar id=\"players-select\" data={this.state.players} default=\"All Players\" getSelected={this.getSelectedPlayer}/>\r\n            <SelectBar id=\"play-select\" data={this.playTypes} default=\"All Plays\" getSelected={this.getSelectedPlayType}/>\r\n          </div>\r\n          <PlayList plays={this.state.pbp} getSelectedVideoDetails={this.getSelectedVideoDetails}/>\r\n        </div>\r\n      </div>\r\n      );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}